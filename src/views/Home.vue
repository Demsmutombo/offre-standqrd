<template>
  <div class="index-page">
    <Header />
    
    <main class="main">
      <!-- Hero Section -->
      <section id="hero" class="hero section dark-background">
        <img src="/assets/img/IMG_20240915_050452_231.jpg" alt="" data-aos="fade-in">
        <div class="container d-flex flex-column align-items-center justify-content-center text-center" data-aos="fade-up" data-aos-delay="100">
          <h2>En mémoire de Henock Ngandu</h2>
          <p><span class="typed" data-typed-items="Frère bien-aimé, Passionné de football,Petit Zidane, Homme au grand cœur, Toujours dans nos cœurs"></span></p>
        </div>
      </section>

      <!-- About Section -->
      <section id="about" class="about section">
        <br><br><br>
        <div class="container" data-aos="fade-up" data-aos-delay="100">
          <div class="row gy-4">
            <div class="col-md-6">
              <div class="row justify-content-between gy-4">
                <div class="col-lg-5">
                  <img src="/assets/img/FB_IMG_1726419737492.jpg" class="img-fluid" alt="">
                </div>
                <div class="col-lg-7 about-info">
                  <p><strong>Nom complet : </strong> <span>Henock Ngandu Kabadi</span></p>
                  <p><strong>Date de naissance : </strong> <span>15 Mai 1992</span></p>
                  <p><strong>Date de décès : </strong> <span>2 Septembre 2024</span></p>
                  <p><strong>Âge au décès : </strong> <span>32 ans</span></p>
                  <p><strong>Profession : </strong> <span>Passionné de football</span></p>
                  <p><strong>Lieu de naissance : </strong> <span>République Démocratique du Congo</span></p>
                  <p><strong>Lieu de résidence : </strong> <span>Afrique du Sud (Pretoria, puis Cape Town)</span></p>
                </div>
              </div>
            </div>

            <div class="col-md-6">
              <div class="about-me">
                <h4>Biographie</h4>
                <p>
                  Henock Ngandu Kabadi est une figure notable du football, dont la passion pour le sport a marqué son enfance. Dès son jeune âge, il s'est distingué comme un talent prometteur et a été désigné meilleur joueur au sein du COÉ. À l'âge de 14 ans, il a été sélectionné pour un stage de perfectionnement en France, où son jeu a surpris les sélectionneurs, dont Claude Le Roy, alors entraîneur des Léopards de la RDC.
                </p>
                <p>
                  Il a fait ses études primaires à l'école catholique Sainte-Marie Goretti, obtenu son baccalauréat à la Télé de la Victoire, et poursuivi ses études universitaires à l'Université Révérend Kim. Sa passion pour le football l'a conduit à vivre d'abord à Pretoria, puis à Cape Town, en Afrique du Sud. Cependant, les circonstances de la vie ont conduit Kabadi à changer de voie professionnelle pour subvenir à ses besoins.
                </p>
                <p>
                  En tant que cinquième d'une famille de sept enfants (deux filles et quatre garçons), il est également le père d'une fille nommée Karine Fumbi.
                </p>
                <h5 style="margin-top: 20px; margin-bottom: 10px; color: var(--heading-color);">Famille</h5>
                <p><strong>Parents :</strong> Famille Ngandu</p>
                <p><strong>Frères et sœurs :</strong> Six frères et sœurs (5ème d'une famille de 7 enfants)</p>
                <p><strong>Enfants :</strong> Karine Fumbi</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Obsèques Section -->
      <section id="funeral-info" class="section funeral-info-section">
        <div class="container" data-aos="fade-up">
          <div class="section-title">
            <h2>Informations sur les Obsèques</h2>
            <p>Détails des cérémonies et lieu de sépulture</p>
          </div>
          <div class="row gy-4">
            <div class="col-md-6">
              <div class="info-item funeral-info-item">
                <h4 class="funeral-title"><i class="bi bi-calendar-event me-2"></i>Veillée Mortuaire</h4>
                <p><strong>Date :</strong> Dimanche 8 Septembre 2024</p>
                <p><strong>Heure :</strong> 18h00</p>
                <p><strong>Lieu :</strong> Domicile familial</p>
              </div>
            </div>
            <div class="col-md-6">
              <div class="info-item funeral-info-item">
                <h4 class="funeral-title"><i class="bi bi-calendar-check me-2"></i>Cérémonie Funéraire</h4>
                <p><strong>Date :</strong> Lundi 9 Septembre 2024</p>
                <p><strong>Heure :</strong> 10h00</p>
                <p><strong>Lieu :</strong> Église [À compléter]</p>
              </div>
            </div>
            <div class="col-md-12">
              <div class="info-item funeral-info-item">
                <h4 class="funeral-title"><i class="bi bi-geo-alt me-2"></i>Lieu de Sépulture</h4>
                <p><strong>Cimetière :</strong> Nécropole de l'Eternité</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Services Section - 2 vidéos maximum (STANDARD) -->
      <section id="services" class="services section">
        <div class="container section-title" data-aos="fade-up">
          <h2>service funéraire</h2>
          <p>Henock : Un hommage en images, un souvenir éternel.</p>
        </div>

        <div class="container">
          <div class="row gy-4">
            <div class="col-lg-6 col-md-6" data-aos="fade-up" data-aos-delay="100">
              <div class="service-card">
                <div class="service-card-image">
                  <a href="https://youtu.be/alXebRn-WJY?si=_IJcN3rLGIQWb0H7" target="_blank" class="video-thumbnail">
                    <img src="/assets/img/portfolio/Capture.PNG" alt="Veuiller mortuaire" class="img-fluid">
                    <div class="play-overlay">
                      <i class="bi bi-play-fill"></i>
                    </div>
                  </a>
                </div>
                <div class="service-card-body">
                  <h4>Veuiller mortuaire</h4>
                  <a href="https://youtu.be/alXebRn-WJY?si=_IJcN3rLGIQWb0H7" target="_blank" class="btn btn-primary">
                    <i class="bi bi-play-circle me-2"></i>Regarder la vidéo
                  </a>
                </div>
              </div>
            </div>

            <div class="col-lg-6 col-md-6" data-aos="fade-up" data-aos-delay="100">
              <div class="service-card">
                <div class="service-card-image">
                  <a href="https://youtu.be/22zi-VKROwc?si=O_iBbTMdqDGHH2lP" target="_blank" class="video-thumbnail">
                    <img src="/assets/img/portfolio/morgue/IMG-20240919-WA0091.jpg" alt="Morgue" class="img-fluid">
                    <div class="play-overlay">
                      <i class="bi bi-play-fill"></i>
                    </div>
                  </a>
                </div>
                <div class="service-card-body">
                  <h4>Morgue</h4>
                  <a href="https://youtu.be/22zi-VKROwc?si=O_iBbTMdqDGHH2lP" target="_blank" class="btn btn-primary">
                    <i class="bi bi-play-circle me-2"></i>Regarder la vidéo
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Stats Section -->
      <section id="stats" class="stats section accent-background" style="position: relative; height: 80vh; overflow: hidden;">
        <img src="/assets/img/FB_IMG_1726419798066.jpg" alt="" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; z-index: 1; opacity: 0.5;">
        <div class="container position-relative" data-aos="fade-up" data-aos-delay="100" style="text-align: center; z-index: 2; padding-top: 100px;">
          <div style="margin-bottom: 30px;">
            <h3 style="font-size: 48px; font-weight: bold; margin-bottom: 10px;">{{ daysSinceDeath }}</h3>
            <p style="font-size: 18px;">Jours depuis son départ</p>
          </div>
          <h2>Témoignages et Poèmes</h2>
          <router-link to="/temoignage" class="btn btn-success" style="z-index: 3; margin-top: 20px;">Voir les Témoignages</router-link>
        </div>
      </section>

      <!-- Portfolio Section -->
      <section id="portfolio" class="portfolio section">
        <div class="container section-title" data-aos="fade-up">
          <h2>Galerry</h2>
          <p>Retour en images</p>
        </div>

        <div class="container">
          <div class="isotope-layout" data-default-filter="*" data-layout="masonry" data-sort="original-order">
            <ul class="portfolio-filters isotope-filters" data-aos="fade-up" data-aos-delay="100">
              <li data-filter=".filter-books" class="filter-active">Toutes</li>
              <li data-filter=".filter-app">à la morgue</li>
              <li data-filter=".filter-product">Au cimetière</li>
            </ul>

            <div class="row gy-4 isotope-container" data-aos="fade-up" data-aos-delay="200">
              <!-- Cimetière Images - Maximum 15 photos pour total de 30 -->
              <div class="col-lg-4 col-md-6 portfolio-item isotope-item filter-product" v-for="img in cimetiereImages.slice(0, 15)" :key="img">
                <a :href="img" class="glightbox" data-gallery="gallery" data-title="Cimetière">
                  <img :src="img" class="img-fluid" alt="">
                </a>
              </div>

              <!-- Morgue Images - Maximum 15 photos pour total de 30 -->
              <div class="col-lg-4 col-md-6 portfolio-item isotope-item filter-app" v-for="img in morgueImages.slice(0, 15)" :key="img">
                <a :href="img" class="glightbox" data-gallery="gallery" data-title="Morgue">
                  <img :src="img" class="img-fluid" alt="">
                </a>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Testimonials Section -->
      <div class="container section-title" data-aos="fade-up">
        <h2>Photos de Henock</h2>
      </div>
      <section id="testimonials" class="testimonials section accent-background">
        <img src="/assets/img/IMG_20240915_050829_873.jpg" class="testimonials-bg" alt="">

        <div class="container" data-aos="fade-up" data-aos-delay="100">
          <div class="swiper init-swiper" ref="swiperContainer">
            <div class="swiper-wrapper">
              <div class="swiper-slide" v-for="photo in henockPhotos" :key="photo">
                <div class="testimonial-item">
                  <img :src="photo" class="testimonial-img" alt="" style="width: 80%; height: auto; border-radius: 0;">
                </div>
              </div>
            </div>
            <div class="swiper-pagination"></div>
          </div>
        </div>
      </section>

      <!-- Contact Section -->
      <section id="contact" class="contact section">
        <div class="container section-title" data-aos="fade-up">
          <h2>Contact</h2>
          <p>En mémoire de Henock Ngandu Kabadi</p>
        </div>

        <div class="container" data-aos="fade-up" data-aos-delay="100">
          <div class="info-wrap" data-aos="fade-up" data-aos-delay="200">
            <div class="row gy-5">
              <div class="col-lg-4">
                <div class="info-item d-flex align-items-center">
                  <i class="bi bi-telephone flex-shrink-0"></i>
                  <div>
                    <h3>Téléphone</h3>
                    <p><a href="tel:+243991683269" class="contact-phone" @click.prevent="callPhone('+243991683269')">+243 991 683 269</a></p>
                  </div>
                </div>
              </div>

              <div class="col-lg-4">
                <div class="info-item d-flex align-items-center">
                  <div class="contact-icon gmail-icon flex-shrink-0">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                      <path fill="#EA4335" d="M24 5.457v13.909c0 .904-.732 1.636-1.636 1.636h-3.819V11.73L12 16.64l-6.545-4.91v9.273H1.636A1.636 1.636 0 0 1 0 19.366V5.457c0-2.023 2.309-3.178 3.927-1.964L5.455 4.64 12 9.548l6.545-4.91 1.528-1.145C21.69 2.28 24 3.434 24 5.457z"/>
                    </svg>
                  </div>
                  <div>
                    <h3>Email</h3>
                    <p><a href="mailto:imdigitallabs@gmail.com" class="contact-email" @click.prevent="sendEmail('imdigitallabs@gmail.com')">imdigitallabs@gmail.com</a></p>
                  </div>
                </div>
              </div>

              <div class="col-lg-4">
                <div class="info-item d-flex align-items-center">
                  <div class="contact-icon whatsapp-icon flex-shrink-0">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                      <path fill="#25D366" d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
                    </svg>
                  </div>
                  <div>
                    <h3>WhatsApp</h3>
                    <p><a href="https://wa.me/243991683269" class="contact-whatsapp" @click.prevent="openWhatsApp('243991683269')" target="_blank">+243 991 683 269</a></p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="text-center mt-4">
            <p><strong>Contact :</strong> Israel Mutombo</p>
            <p>Pour toute question ou souvenir à propos de Henock, n'hésitez pas à nous contacter. Merci de contribuer à sa mémoire.</p>
          </div>
        </div>
      </section>

      <!-- Citations Section -->
      <section id="quotes" class="section quotes-section">
        <div class="container" data-aos="fade-up">
          <div class="section-title">
            <h2>Citations et Paroles</h2>
            <p>Versets bibliques et paroles qui résonnent</p>
          </div>
          <div class="row gy-4">
            <div class="col-md-6">
              <div class="quote-item">
                <h5 class="quote-title">Jean 14:27</h5>
                <p class="quote-text">
                  "Je vous laisse la paix, je vous donne ma paix. Je ne vous la donne pas comme le monde la donne. Que votre cœur ne se trouble point, et ne s'alarme point."
                </p>
              </div>
            </div>
            <div class="col-md-6">
              <div class="quote-item">
                <h5 class="quote-title">2 Corinthiens 5:8</h5>
                <p class="quote-text">
                  "Nous sommes pleins de confiance, et nous aimons mieux quitter ce corps et demeurer auprès du Seigneur."
                </p>
              </div>
            </div>
            <div class="col-md-6">
              <div class="quote-item">
                <h5 class="quote-title">Apocalypse 21:4</h5>
                <p class="quote-text">
                  "Il essuiera toute larme de leurs yeux, et la mort ne sera plus, et il n'y aura plus ni deuil, ni cri, ni douleur, car les premières choses ont disparu."
                </p>
              </div>
            </div>
            <div class="col-md-6">
              <div class="quote-item">
                <h5 class="quote-title">Parole de Henock</h5>
                <p class="quote-text">
                  "Le football n'est pas seulement un sport, c'est une passion qui rassemble les cœurs et crée des souvenirs éternels."
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Credits Section -->
      <section id="credits" class="credits section">
        <div class="container section-title" data-aos="fade-up">
          <h2>Conception</h2>
          <p>Ce site a été créé avec amour et soin pour honorer la mémoire de Henock Ngandu Kabadi.</p>
        </div>

        <div class="container" data-aos="fade-up" data-aos-delay="100">
          <div class="text-center">
            <p class="credits-content">Conception et développement par <strong class="credits-brand">IM DIGITAL LABS</strong>.</p>
            <p>
              <strong class="credits-label">Contact direct :</strong><br>
              <a href="mailto:imdigitallabs@gmail.com" class="contact-email">Email: imdigitallabs@gmail.com</a>
            </p>
            <p>Nous espérons que ce site continuera à célébrer la vie et l'héritage de Henock, tout en permettant à ses proches de se souvenir de lui avec tendresse.</p>
            <p>Merci pour votre visite.</p>
          </div>
        </div>
      </section>
    </main>

    <Footer />

    <!-- Scroll Top -->
    <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center" @click.prevent="scrollToTop"><i class="bi bi-arrow-up-short"></i></a>

    <!-- Preloader -->
    <div id="preloader"></div>
  </div>
</template>

<script>
import Header from '../components/Header.vue'
import Footer from '../components/Footer.vue'

export default {
  name: 'Home',
  components: {
    Header,
    Footer
  },
  data() {
    return {
      cimetiereImages: [
        '/assets/img/portfolio/cimetiere/IMG-20240919-WA0024.jpg',
        '/assets/img/portfolio/cimetiere/IMG-20240919-WA0022.jpg',
        '/assets/img/portfolio/cimetiere/IMG-20240919-WA0129.jpg',
        '/assets/img/portfolio/cimetiere/IMG-20240919-WA0126.jpg',
        '/assets/img/portfolio/cimetiere/IMG-20240919-WA0134.jpg',
        '/assets/img/portfolio/cimetiere/IMG-20240919-WA0052.jpg',
        '/assets/img/portfolio/cimetiere/IMG-20240919-WA0035.jpg',
        '/assets/img/portfolio/cimetiere/IMG-20240919-WA0125.jpg',
        '/assets/img/portfolio/cimetiere/IMG-20240919-WA0019.jpg',
        '/assets/img/portfolio/cimetiere/IMG-20240919-WA0020.jpg',
        '/assets/img/portfolio/cimetiere/IMG-20240919-WA0021.jpg',
        '/assets/img/portfolio/cimetiere/IMG-20240919-WA0023.jpg',
        '/assets/img/portfolio/cimetiere/IMG-20240919-WA0034.jpg',
        '/assets/img/portfolio/cimetiere/IMG-20240919-WA0036.jpg',
        '/assets/img/portfolio/cimetiere/IMG-20240919-WA0037.jpg'
      ],
      morgueImages: [
        '/assets/img/portfolio/morgue/IMG-20240919-WA0064.jpg',
        '/assets/img/portfolio/morgue/IMG-20240919-WA0091.jpg',
        '/assets/img/portfolio/morgue/IMG-20240919-WA0057.jpg',
        '/assets/img/portfolio/morgue/IMG-20240919-WA0086.jpg',
        '/assets/img/portfolio/morgue/IMG-20240919-WA0055.jpg',
        '/assets/img/portfolio/morgue/IMG-20240919-WA0093.jpg',
        '/assets/img/portfolio/morgue/IMG-20240919-WA0094.jpg',
        '/assets/img/portfolio/morgue/IMG-20240919-WA0102.jpg',
        '/assets/img/portfolio/morgue/IMG-20240919-WA0056.jpg',
        '/assets/img/portfolio/morgue/IMG-20240919-WA0060.jpg',
        '/assets/img/portfolio/morgue/IMG-20240919-WA0063.jpg',
        '/assets/img/portfolio/morgue/IMG-20240919-WA0084.jpg',
        '/assets/img/portfolio/morgue/IMG-20240919-WA0085.jpg',
        '/assets/img/portfolio/morgue/IMG-20240919-WA0090.jpg',
        '/assets/img/portfolio/morgue/IMG-20240919-WA0092.jpg'
      ],
      henockPhotos: [
        '/assets/img/FB_IMG_1726419798066.jpg',
        '/assets/img/FB_IMG_1726419737492.jpg',
        '/assets/img/portfolio/IMG-20240905-WA0027.jpg',
        '/assets/img/portfolio/IMG-20240905-WA0037.jpg',
        '/assets/img/portfolio/IMG-20240905-WA0042.jpg',
        '/assets/img/portfolio/IMG-20240905-WA0026.jpg',
        '/assets/img/portfolio/IMG-20240905-WA0029.jpg',
        '/assets/img/portfolio/IMG-20240905-WA0034.jpg',
        '/assets/img/portfolio/IMG-20240905-WA0024.jpg',
        '/assets/img/portfolio/IMG-20240905-WA0036.jpg'
      ],
      swiperInstance: null,
      daysSinceDeath: 0
    }
  },
  mounted() {
    this.calculateDaysSinceDeath()
    this.initScripts()
  },
  methods: {
    callPhone(phoneNumber) {
      window.location.href = `tel:${phoneNumber}`
    },
    sendEmail(email) {
      window.location.href = `mailto:${email}`
    },
    openWhatsApp(phoneNumber) {
      window.open(`https://wa.me/${phoneNumber}`, '_blank')
    },
    calculateDaysSinceDeath() {
      const deathDate = new Date('2024-09-02')
      const today = new Date()
      // Reset time to midnight for accurate day calculation
      deathDate.setHours(0, 0, 0, 0)
      today.setHours(0, 0, 0, 0)
      const timeDiff = today.getTime() - deathDate.getTime()
      const daysDiff = Math.floor(timeDiff / (1000 * 60 * 60 * 24))
      this.daysSinceDeath = daysDiff > 0 ? daysDiff : 0
    },
    scrollToTop() {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      })
    },
    async initScripts() {
      // Load all vendor scripts
      const scripts = [
        '/assets/vendor/bootstrap/js/bootstrap.bundle.min.js',
        '/assets/vendor/aos/aos.js',
        '/assets/vendor/typed.js/typed.umd.js',
        '/assets/vendor/imagesloaded/imagesloaded.pkgd.min.js',
        '/assets/vendor/isotope-layout/isotope.pkgd.min.js',
        '/assets/vendor/swiper/swiper-bundle.min.js',
        '/assets/vendor/glightbox/js/glightbox.min.js'
      ]

      try {
        await Promise.all(scripts.map(script => this.loadScript(script)))
        
          // Wait a bit for scripts to be fully available
        setTimeout(() => {
          this.initAOS()
          this.initTyped()
          this.initSwiper()
          this.initIsotope()
          this.initGLightbox()
          this.initScrollTop()
          this.initPreloader()
          this.initScrolled()
        }, 100)
      } catch (error) {
        console.error('Error loading scripts:', error)
      }
    },
    loadScript(src) {
      return new Promise((resolve, reject) => {
        if (document.querySelector(`script[src="${src}"]`)) {
          resolve()
          return
        }
        const script = document.createElement('script')
        script.src = src
        script.onload = resolve
        script.onerror = reject
        document.head.appendChild(script)
      })
    },
    initAOS() {
      if (window.AOS) {
        window.AOS.init({
          duration: 600,
          easing: 'ease-in-out',
          once: true,
          mirror: false
        })
      }
    },
    initTyped() {
      const selectTyped = document.querySelector('.typed')
      if (selectTyped && window.Typed) {
        const typed_strings = selectTyped.getAttribute('data-typed-items').split(',')
        new window.Typed('.typed', {
          strings: typed_strings,
          loop: true,
          typeSpeed: 100,
          backSpeed: 50,
          backDelay: 2000
        })
      }
    },
    initSwiper() {
      this.$nextTick(() => {
        if (window.Swiper && this.$refs.swiperContainer) {
          const paginationEl = this.$refs.swiperContainer.querySelector('.swiper-pagination')
          if (paginationEl) {
            const config = {
              loop: true,
              speed: 600,
              autoplay: {
                delay: 3000
              },
              slidesPerView: 'auto',
              pagination: {
                el: paginationEl,
                type: 'bullets',
                clickable: true
              }
            }
            this.swiperInstance = new window.Swiper(this.$refs.swiperContainer, config)
          }
        }
      })
    },
    initIsotope() {
      if (window.Isotope && window.imagesLoaded) {
        document.querySelectorAll('.isotope-layout').forEach((isotopeItem) => {
          const layout = isotopeItem.getAttribute('data-layout') ?? 'masonry'
          const filter = isotopeItem.getAttribute('data-default-filter') ?? '*'
          const sort = isotopeItem.getAttribute('data-sort') ?? 'original-order'

          let initIsotope
          window.imagesLoaded(isotopeItem.querySelector('.isotope-container'), () => {
            initIsotope = new window.Isotope(isotopeItem.querySelector('.isotope-container'), {
              itemSelector: '.isotope-item',
              layoutMode: layout,
              filter: filter,
              sortBy: sort
            })
          })

          isotopeItem.querySelectorAll('.isotope-filters li').forEach((filters) => {
            filters.addEventListener('click', function() {
              isotopeItem.querySelector('.isotope-filters .filter-active').classList.remove('filter-active')
              this.classList.add('filter-active')
              initIsotope.arrange({
                filter: this.getAttribute('data-filter')
              })
            }, false)
          })
        })
      }
    },
    initGLightbox() {
      if (window.GLightbox) {
        window.GLightbox({
          selector: '.glightbox',
          touchNavigation: true,
          loop: true,
          autoplayVideos: false
        })
      }
    },
    initScrollTop() {
      const scrollTop = document.querySelector('.scroll-top')
      if (scrollTop) {
        const toggleScrollTop = () => {
          window.scrollY > 100 ? scrollTop.classList.add('active') : scrollTop.classList.remove('active')
        }
        window.addEventListener('load', toggleScrollTop)
        window.addEventListener('scroll', toggleScrollTop)
      }
    },
    initPreloader() {
      const preloader = document.querySelector('#preloader')
      if (preloader) {
        window.addEventListener('load', () => {
          preloader.remove()
        })
        // Remove preloader if already loaded
        if (document.readyState === 'complete') {
          preloader.remove()
        }
      }
    },
    initScrolled() {
      const selectBody = document.querySelector('body')
      const selectHeader = document.querySelector('#header')
      if (!selectHeader) return
      
      const toggleScrolled = () => {
        if (!selectHeader.classList.contains('scroll-up-sticky') && 
            !selectHeader.classList.contains('sticky-top') && 
            !selectHeader.classList.contains('fixed-top')) return
        window.scrollY > 100 ? selectBody.classList.add('scrolled') : selectBody.classList.remove('scrolled')
      }
      
      window.addEventListener('scroll', toggleScrolled)
      toggleScrolled()
    }
  },
  beforeUnmount() {
    if (this.swiperInstance) {
      this.swiperInstance.destroy()
    }
  }
}
</script>

<style scoped>
.service-card {
  background-color: var(--surface-color);
  box-shadow: 0px 5px 90px 0px rgba(0, 0, 0, 0.1);
  border-radius: 18px;
  overflow: hidden;
  transition: all ease-in-out 0.3s;
  height: 100%;
  display: flex;
  flex-direction: column;
}

.service-card:hover {
  transform: translateY(-10px);
  box-shadow: 0px 8px 120px 0px rgba(0, 0, 0, 0.15);
}

.service-card-image {
  position: relative;
  overflow: hidden;
  width: 100%;
  height: 250px;
}

.service-card-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s;
}

.video-thumbnail {
  display: block;
  position: relative;
  width: 100%;
  height: 100%;
}

.video-thumbnail:hover img {
  transform: scale(1.1);
}

.play-overlay {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(0, 0, 0, 0.7);
  border-radius: 50%;
  width: 70px;
  height: 70px;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
  transition: all 0.3s;
}

.play-overlay i {
  color: white;
  font-size: 28px;
  margin-left: 4px;
}

.video-thumbnail:hover .play-overlay {
  background: rgba(0, 0, 0, 0.9);
  transform: translate(-50%, -50%) scale(1.1);
}

.service-card-body {
  padding: 25px;
  text-align: center;
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.service-card-body h4 {
  font-weight: 700;
  margin-bottom: 20px;
  font-size: 22px;
  color: var(--heading-color);
}

.service-card-body .btn {
  padding: 10px 25px;
  font-size: 16px;
  border-radius: 5px;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s;
  background-color: var(--accent-color) !important;
  border-color: var(--accent-color) !important;
  color: white !important;
}

.service-card-body .btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  background-color: color-mix(in srgb, var(--accent-color), black 10%) !important;
  border-color: color-mix(in srgb, var(--accent-color), black 10%) !important;
}

/* Styles pour les sections avec variables CSS */
.funeral-info-section {
  background-color: var(--surface-color) !important;
}

.funeral-info-item {
  padding: 25px;
  background: var(--surface-color);
  border-radius: 10px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

.funeral-title {
  color: var(--accent-color) !important;
  margin-bottom: 20px;
}

.quotes-section {
  background-color: var(--surface-color) !important;
  padding-bottom: 20px !important;
}

#credits.credits.section {
  padding-top: 30px !important;
  padding-bottom: 20px !important;
}

.quote-item {
  padding: 30px;
  background: var(--surface-color);
  border-radius: 10px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

.quote-title {
  color: var(--accent-color) !important;
  margin-bottom: 15px;
}

.quote-text {
  font-style: italic;
  font-size: 16px;
  line-height: 1.8;
  color: var(--default-color) !important;
}

.credits-content {
  color: var(--default-color) !important;
}

.credits-brand {
  color: var(--accent-color) !important;
}

.credits-label {
  color: var(--default-color) !important;
}

.contact-email,
.contact-phone,
.contact-whatsapp {
  color: var(--accent-color) !important;
  text-decoration: none;
}

.contact-email:hover,
.contact-phone:hover,
.contact-whatsapp:hover {
  color: var(--accent-color) !important;
  text-decoration: underline;
}

.contact-icon {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 15px;
  border-radius: 8px;
  padding: 8px;
}

.gmail-icon {
  background: rgba(234, 67, 53, 0.1);
}

.gmail-icon svg {
  width: 24px;
  height: 24px;
}

.whatsapp-icon {
  background: rgba(37, 211, 102, 0.1);
}

.whatsapp-icon svg {
  width: 24px;
  height: 24px;
}
</style>

